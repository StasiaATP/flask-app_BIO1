{% extends 'base.html' %}

{% block content %}
    <div class="container mt-4">
        <h2>Liste aller Personen</h2>

        <!-- Suchfeld -->
        <form method="GET" action="/admin/user" class="mb-3">
            <div class="input-group">
                <input type="text" class="form-control" name="search" placeholder="Suche nach Name oder Accounttyp..." value="{{ request.args.get('search', '') }}">
                <button type="submit" class="btn btn-primary">Suchen</button>
            </div>
        </form>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Accounttyp</th>
                    <th>Soz.Vers.Nr.</th>
                    <th>Vorname</th>
                    <th>Nachname</th>
                    <th>PLZ</th>
                    <th>Ort</th>
                    <th>Stra√üe</th>
                    <th>Hausnummer</th>
                    <th>Telefonnummer</th>
                </tr>
            </thead>
            <tbody>
                {% for person in user %}
                <tr>
                    <td>{{ person.type.capitalize() }}</td>
                    <td>{{ person.sozial_vers_nr }}</td>
                    <td>{{ person.vorname }}</td>
                    <td>{{ person.nachname }}</td>
                    <td>{{ person.plz }}</td>
                    <td>{{ person.ort }}</td>
                    <td>{{ person.strasse }}</td>
                    <td>{{ person.hausnr }}</td>
                    <td>{{ person.telefonnummer or 'N/A' }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
